<!DOCTYPE html>
<html>
<title>Post a Plant</title>
<head>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="plantStyle.css">

<!-- Brought in From overview -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<meta name="msapplication-tap-highlight" content="no" />
<meta name="theme-color" content="#FFB300" />
<title>Find My Flora Front-End</title>
<link rel="stylesheet" href="./reset.css">
<link rel="stylesheet" href="./styles.css">
<!--  -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- jquery stuff -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!-- -->
<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
<link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon" />
<!--  -->
</head>

<body>
  <header class="header">
    <div class="header__container">
      <!-- svg hamburger icon -->
      <div class="menu__icon">
        <svg width="24px" height="24px" viewBox="0 0 48 48" fill=black>
          <path d="M6 36h36v-4H6v4zm0-10h36v-4H6v4zm0-14v4h36v-4H6z"></path>
        </svg>
      </div>


    </div>



  </header>

  <!-- menu  -->
  <nav class="menu">
    <div class="menu__header">
      <center>
        <img src="assets/fmf-logo2.png" height = 275px>
      </center>
    </div>
    <ul class="menu__list">
      <a href="overview.html"> <li > Home </li> </a>
      <a href="account.html"><li> Account </li></a>
      <a href="postPlant.html"> <li > Post a Plant </li> </a>
      <a href="searchPlant.html"> <li class="currentMenuSelection"> Find a Plant </li> </a>
      <a href="beeMode.html"> <li> Bee Mode </li> </a>
    <ul>
  </nav>

<div class="main-box">

  <!-- overlay  -->
<div class="menu__overlay"></div>
  <div class="main-container">


      <div class="myBox">
        <!-- <div class = "page"> -->
        <div class="postPlantBox">
          <center>
            <h1>Find a Plant</h1>
          </center>
           <div class = "data-entry">
           <div class="form-group">
               <label for="usr">Plant Name:</label>
               <input type="text" class="form-control" id="usr">
           </div>
           <!-- <div class = "data-entry">
           <div class="form-group">
               <label for="usr">User Location:</label>
               <input type="text" class="form-control" id="usr">
           </div> -->
           <div class="plantAttributes">
              <ul>
                <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Thorns
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Purple
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Barnabas
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Thorns
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Purple
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
               <input type="checkbox" class="form-check-input" value="">Barnabas
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
                   <input type="checkbox" class="form-check-input" value="">Thorns
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
                   <input type="checkbox" class="form-check-input" value="">Purple
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
               <label class="form-check-label">
                   <input type="checkbox" class="form-check-input" value="">Barnabas
               </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
                   <label class="form-check-label">
                       <input type="checkbox" class="form-check-input" value="">Thorns
                   </label>
               </div>
             </li>
               <!--  -->
               <li>
               <div class="form-check-inline">
                   <label class="form-check-label">
                       <input type="checkbox" class="form-check-input" value="">Purple
                   </label>
               </div>
             </li>
               <!--  -->
               <div class="form-check-inline">
                   <label class="form-check-label">
                       <input type="checkbox" class="form-check-input" value="">Barnabas
                   </label>
               </div>
               <!--  -->
             </ul>
           </div>
           <br/>
           <hr/>
           <button type="button" class="btn btn-primary">Find</button>

           </div>

           <center>
             <div class="infoContainer2">
               <a href="plantFound.html"> Example Query Results <a>
             </div>
           </center>

      </div>
      <center>
        <div class="footerImage"> <img class="bottomImage" src="assets/plant-footer.png" width=700px> </div>
      </center>
    </div>


    </div>




    </div>
  </div>



<script>
  /*
  POST:
  {
    'currX': 0.0000000,
    'currY': 0.0000000,
    'features': [],
    'colors': [],
    'type': []
  }
  RECIEVED:
  {
    'plants' : [{}. {}, {}    ]
  }
*/
$.ajax({
  url: 'http://localhost:5000/recipe-search',
  headers: {
      "Access-Control-Allow-Origin": "*",
  },
  contentType: 'application/json',
  method: 'POST',
  dataType: 'json',
  data: JSON.stringify(obj),
  success: function(data) {
      console.log(data);
      console.log("about to parse the data");
      var single_content = '';
      var all_content = '<p class = "big-heading">Results</p>';
      console.log("about to print data");
      console.log(data);
      console.log("about to print data.recipes");
      console.log(data.recipes);
      var recipes = data.recipes;
      recipes.forEach((datum) => {
          single_content = 
          '<!--Dynamically rendered content-->'+
          
          '<div class = "meal item">'+
              '<p class = "heading">'+ datum.name +'</p>'+
              '<hr/>'+
              '<div class="row">'+
                  '<div class="col-sm-4">'+
                      '<img src = "'+(datum.image)+'" class = "goldy"></img>'+
                  '</div>'+
                  '<div class="col-sm-8">'+
                      '<div class = "macro">'+(datum.protein)+'g Protein</div>'+
                      '<div class = "macro">'+(datum.carbs)+'g Carbs</div>'+
                      '<div class = "macro">'+(datum.fats)+'g Fats</div>'+
                      '<div class = "macro">'+(datum.calories)+' Calories</div>'+
                  '</div>'+
              '</div>'+
          '</div>'+
          '<!--end of dynamically rendered content-->';
          all_content += single_content;
      });
      //var formatted_content = 
      
      $(".findRecipe").html(all_content);
  },
  error: function(jqXhr, textStatus, errorThrown) {
      console.log(errorThrown)
  }
});
</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="./app.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="scripts.js">  </script>

    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>


  </body>
  </html>
